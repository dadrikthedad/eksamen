2025-12-15 10:47:01.662 +01:00 [INF] Now listening on: http://localhost:5031
2025-12-15 10:47:01.683 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 10:47:01.683 +01:00 [INF] Hosting environment: Development
2025-12-15 10:47:01.684 +01:00 [INF] Content root path: C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav
2025-12-15 10:47:04.254 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/ - null null
2025-12-15 10:47:04.277 +01:00 [INF] HTTP GET / responded 404 in 0.3900 ms
2025-12-15 10:47:04.283 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/ - 404 0 null 30.764ms
2025-12-15 10:47:04.289 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5031/, Response status code: 404
2025-12-15 10:47:09.785 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books - null null
2025-12-15 10:47:09.788 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:09.802 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 10:47:10.341 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 10:47:10.348 +01:00 [INF] We retrieved 19 books from the database successfully
2025-12-15 10:47:10.355 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 10:47:10.387 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 583.1936ms
2025-12-15 10:47:10.388 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:10.389 +01:00 [INF] HTTP GET /api/books responded 200 in 601.1568 ms
2025-12-15 10:47:10.392 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books - 200 null application/json; charset=utf-8 607.4291ms
2025-12-15 10:47:10.406 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/favicon.ico - null null
2025-12-15 10:47:10.408 +01:00 [INF] HTTP GET /favicon.ico responded 404 in 0.0308 ms
2025-12-15 10:47:10.409 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/favicon.ico - 404 0 null 3.3782ms
2025-12-15 10:47:10.411 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5031/favicon.ico, Response status code: 404
2025-12-15 10:47:40.478 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=Ring - null null
2025-12-15 10:47:40.479 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:40.480 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 10:47:40.549 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0
2025-12-15 10:47:40.551 +01:00 [INF] We retrieved 1 books from the database successfully
2025-12-15 10:47:40.552 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 10:47:40.553 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 71.9814ms
2025-12-15 10:47:40.554 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:40.554 +01:00 [INF] HTTP GET /api/books responded 200 in 74.9967 ms
2025-12-15 10:47:40.555 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=Ring - 200 null application/json; charset=utf-8 77.6792ms
2025-12-15 10:47:51.072 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=1918 - null null
2025-12-15 10:47:51.074 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:51.075 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 10:47:51.117 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__publicationYear_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."PublicationYear" = @__publicationYear_0
2025-12-15 10:47:51.119 +01:00 [INF] We retrieved 0 books from the database successfully
2025-12-15 10:47:51.119 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 10:47:51.120 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 44.347ms
2025-12-15 10:47:51.121 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:51.122 +01:00 [INF] HTTP GET /api/books responded 200 in 47.9570 ms
2025-12-15 10:47:51.123 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=1918 - 200 null application/json; charset=utf-8 50.8976ms
2025-12-15 10:47:54.175 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2000 - null null
2025-12-15 10:47:54.177 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:54.177 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 10:47:54.181 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__publicationYear_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."PublicationYear" = @__publicationYear_0
2025-12-15 10:47:54.182 +01:00 [INF] We retrieved 0 books from the database successfully
2025-12-15 10:47:54.183 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 10:47:54.183 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 5.2871ms
2025-12-15 10:47:54.184 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:54.185 +01:00 [INF] HTTP GET /api/books responded 200 in 8.2275 ms
2025-12-15 10:47:54.186 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2000 - 200 null application/json; charset=utf-8 10.654ms
2025-12-15 10:47:59.585 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2001 - null null
2025-12-15 10:47:59.587 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:59.587 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 10:47:59.589 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__publicationYear_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."PublicationYear" = @__publicationYear_0
2025-12-15 10:47:59.591 +01:00 [INF] We retrieved 0 books from the database successfully
2025-12-15 10:47:59.592 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 10:47:59.592 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.0046ms
2025-12-15 10:47:59.593 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:47:59.594 +01:00 [INF] HTTP GET /api/books responded 200 in 7.1047 ms
2025-12-15 10:47:59.595 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2001 - 200 null application/json; charset=utf-8 10.5001ms
2025-12-15 10:48:02.719 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2025 - null null
2025-12-15 10:48:02.721 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:48:02.721 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 10:48:02.723 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__publicationYear_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."PublicationYear" = @__publicationYear_0
2025-12-15 10:48:02.725 +01:00 [INF] We retrieved 1 books from the database successfully
2025-12-15 10:48:02.725 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 10:48:02.726 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 3.7431ms
2025-12-15 10:48:02.727 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:48:02.727 +01:00 [INF] HTTP GET /api/books responded 200 in 6.5894 ms
2025-12-15 10:48:02.729 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2025 - 200 null application/json; charset=utf-8 9.0225ms
2025-12-15 10:48:57.114 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2025?title=%22Te - null null
2025-12-15 10:48:57.116 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:48:57.116 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 10:48:57.121 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 10:48:57.139 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 21.6558ms
2025-12-15 10:48:57.140 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:48:57.141 +01:00 [INF] HTTP GET /api/books responded 400 in 24.9173 ms
2025-12-15 10:48:57.142 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2025?title=%22Te - 400 null application/problem+json; charset=utf-8 27.3675ms
2025-12-15 10:49:02.831 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2025&?title=%22Te - null null
2025-12-15 10:49:02.833 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:49:02.833 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 10:49:02.836 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__publicationYear_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."PublicationYear" = @__publicationYear_0
2025-12-15 10:49:02.837 +01:00 [INF] We retrieved 1 books from the database successfully
2025-12-15 10:49:02.838 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 10:49:02.838 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.162ms
2025-12-15 10:49:02.839 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 10:49:02.840 +01:00 [INF] HTTP GET /api/books responded 200 in 7.0640 ms
2025-12-15 10:49:02.841 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?publicationyear=2025&?title=%22Te - 200 null application/json; charset=utf-8 9.6688ms
2025-12-15 11:22:40.812 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books=1 - null null
2025-12-15 11:22:40.813 +01:00 [INF] HTTP GET /api/books=1 responded 404 in 0.0093 ms
2025-12-15 11:22:40.814 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books=1 - 404 0 null 2.393ms
2025-12-15 11:22:40.816 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5031/api/books=1, Response status code: 404
2025-12-15 11:22:47.031 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/1 - null null
2025-12-15 11:22:47.033 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:22:47.036 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:22:47.040 +01:00 [INF] GetBookById called with id 1
2025-12-15 11:22:47.053 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 11:22:47.078 +01:00 [INF] Book 1, Ringenes Sverre retrieved successfully
2025-12-15 11:22:47.079 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 11:22:47.080 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 42.4874ms
2025-12-15 11:22:47.081 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:22:47.082 +01:00 [INF] HTTP GET /api/books/1 responded 200 in 48.7762 ms
2025-12-15 11:22:47.083 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/1 - 200 null application/json; charset=utf-8 51.4262ms
2025-12-15 11:22:49.887 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/2 - null null
2025-12-15 11:22:49.888 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:22:49.888 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:22:49.890 +01:00 [INF] GetBookById called with id 2
2025-12-15 11:22:49.891 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 11:22:49.893 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 4.0142ms
2025-12-15 11:22:49.894 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:22:49.895 +01:00 [ERR] HTTP GET /api/books/2 responded 500 in 6.8100 ms
System.Collections.Generic.KeyNotFoundException: Book with Id 2 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 55
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 11:22:49.918 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Book with Id 2 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 55
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 11:22:49.922 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: Book with Id 2 not found
System.Collections.Generic.KeyNotFoundException: Book with Id 2 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 55
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 11:22:49.930 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/2 - 404 null application/json; charset=utf-8 43.5906ms
2025-12-15 11:22:52.552 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/3 - null null
2025-12-15 11:22:52.554 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:22:52.554 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:22:52.555 +01:00 [INF] GetBookById called with id 3
2025-12-15 11:22:52.557 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 11:22:52.558 +01:00 [INF] Book 3, Test the Book retrieved successfully
2025-12-15 11:22:52.559 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 11:22:52.560 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 4.7992ms
2025-12-15 11:22:52.561 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:22:52.561 +01:00 [INF] HTTP GET /api/books/3 responded 200 in 7.6581 ms
2025-12-15 11:22:52.563 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/3 - 200 null application/json; charset=utf-8 10.361ms
2025-12-15 11:22:55.350 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/2 - null null
2025-12-15 11:22:55.351 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:22:55.352 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:22:55.353 +01:00 [INF] GetBookById called with id 2
2025-12-15 11:22:55.354 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 11:22:55.356 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 2.9643ms
2025-12-15 11:22:55.356 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:22:55.357 +01:00 [ERR] HTTP GET /api/books/2 responded 500 in 5.9872 ms
System.Collections.Generic.KeyNotFoundException: Book with Id 2 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 55
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 11:22:55.360 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Book with Id 2 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 55
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 11:22:55.363 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: Book with Id 2 not found
System.Collections.Generic.KeyNotFoundException: Book with Id 2 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 55
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 11:22:55.366 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/2 - 404 null application/json; charset=utf-8 16.2969ms
2025-12-15 11:23:06.071 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/ - null null
2025-12-15 11:23:06.072 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:23:06.073 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:23:06.075 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 11:23:06.076 +01:00 [INF] We retrieved 19 books from the database successfully
2025-12-15 11:23:06.077 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 11:23:06.078 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 3.8129ms
2025-12-15 11:23:06.079 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:23:06.079 +01:00 [INF] HTTP GET /api/books/ responded 200 in 6.8469 ms
2025-12-15 11:23:06.080 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/ - 200 null application/json; charset=utf-8 9.2987ms
2025-12-15 11:23:13.461 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/0 - null null
2025-12-15 11:23:13.462 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:23:13.463 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:23:13.464 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 11:23:13.465 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 1.2539ms
2025-12-15 11:23:13.466 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:23:13.466 +01:00 [INF] HTTP GET /api/books/0 responded 400 in 4.0500 ms
2025-12-15 11:23:13.467 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/0 - 400 null application/problem+json; charset=utf-8 6.3546ms
2025-12-15 11:23:22.968 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/te - null null
2025-12-15 11:23:22.969 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:23:22.970 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:23:22.971 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 11:23:22.972 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 1.2136ms
2025-12-15 11:23:22.972 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:23:22.973 +01:00 [INF] HTTP GET /api/books/te responded 400 in 3.8676 ms
2025-12-15 11:23:22.974 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/te - 400 null application/problem+json; charset=utf-8 6.1864ms
2025-12-15 11:56:39.941 +01:00 [INF] Application is shutting down...
2025-12-15 11:56:43.800 +01:00 [INF] Now listening on: http://localhost:5031
2025-12-15 11:56:43.818 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 11:56:43.819 +01:00 [INF] Hosting environment: Development
2025-12-15 11:56:43.819 +01:00 [INF] Content root path: C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav
2025-12-15 11:56:59.385 +01:00 [INF] Application is shutting down...
2025-12-15 11:57:01.439 +01:00 [INF] Now listening on: http://localhost:5031
2025-12-15 11:57:01.457 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 11:57:01.458 +01:00 [INF] Hosting environment: Development
2025-12-15 11:57:01.459 +01:00 [INF] Content root path: C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav
2025-12-15 11:57:02.576 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/te - null null
2025-12-15 11:57:02.592 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:57:02.605 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:57:02.660 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 11:57:02.699 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 91.2757ms
2025-12-15 11:57:02.701 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:57:02.703 +01:00 [INF] HTTP GET /api/books/te responded 400 in 110.1923 ms
2025-12-15 11:57:02.705 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/te - 400 null application/problem+json; charset=utf-8 129.7581ms
2025-12-15 11:57:03.720 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/te - null null
2025-12-15 11:57:03.722 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:57:03.723 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:57:03.727 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 11:57:03.728 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 4.245ms
2025-12-15 11:57:03.728 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:57:03.729 +01:00 [INF] HTTP GET /api/books/te responded 400 in 6.9767 ms
2025-12-15 11:57:03.730 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/te - 400 null application/problem+json; charset=utf-8 10.304ms
2025-12-15 11:57:05.667 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/instock - null null
2025-12-15 11:57:05.669 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:57:05.672 +01:00 [INF] Route matched with {action = "GetBooksInStock", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksInStock() on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:57:05.675 +01:00 [INF] Getting all books in stock
2025-12-15 11:57:05.991 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."InStock" > 0
2025-12-15 11:57:06.022 +01:00 [INF] We retrieved 14 books from the database successfully
2025-12-15 11:57:06.024 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 11:57:06.028 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav) in 355.4739ms
2025-12-15 11:57:06.029 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:57:06.029 +01:00 [INF] HTTP GET /api/books/instock responded 200 in 360.0157 ms
2025-12-15 11:57:06.033 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/instock - 200 null application/json; charset=utf-8 365.5428ms
2025-12-15 11:57:15.895 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/ - null null
2025-12-15 11:57:15.896 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:57:15.900 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 11:57:15.903 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 11:57:15.921 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 11:57:15.923 +01:00 [INF] We retrieved 19 books from the database successfully
2025-12-15 11:57:15.923 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 11:57:15.925 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 23.5057ms
2025-12-15 11:57:15.926 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 11:57:15.926 +01:00 [INF] HTTP GET /api/books/ responded 200 in 29.9488 ms
2025-12-15 11:57:15.928 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/ - 200 null application/json; charset=utf-8 32.9901ms
2025-12-15 12:55:47.811 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/ - null null
2025-12-15 12:55:47.815 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/ - 301 0 null 3.5958ms
2025-12-15 12:55:47.821 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/index.html - null null
2025-12-15 12:55:47.854 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/index.html - 200 null text/html;charset=utf-8 33.2264ms
2025-12-15 12:55:47.880 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/swagger-ui.css - null null
2025-12-15 12:55:47.881 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/swagger-ui-bundle.js - null null
2025-12-15 12:55:47.882 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/swagger-ui-standalone-preset.js - null null
2025-12-15 12:55:47.890 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-15 12:55:47.890 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-15 12:55:47.892 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 10.0886ms
2025-12-15 12:55:47.892 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/swagger-ui.css - 200 152034 text/css 12.1828ms
2025-12-15 12:55:47.896 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-15 12:55:47.897 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 16.1294ms
2025-12-15 12:55:48.030 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/favicon-32x32.png - null null
2025-12-15 12:55:48.031 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-12-15 12:55:48.032 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/favicon-32x32.png - 200 628 image/png 2.1506ms
2025-12-15 12:55:48.051 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/v1/swagger.json - null null
2025-12-15 12:55:48.096 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.0266ms
2025-12-15 12:55:52.549 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/Books - null null
2025-12-15 12:55:52.550 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:55:52.551 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 12:55:52.552 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 12:55:52.588 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 12:55:52.590 +01:00 [INF] We retrieved 19 books from the database successfully
2025-12-15 12:55:52.590 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 12:55:52.591 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 39.4266ms
2025-12-15 12:55:52.592 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:55:52.593 +01:00 [INF] HTTP GET /api/Books responded 200 in 42.5668 ms
2025-12-15 12:55:52.594 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/Books - 200 null application/json; charset=utf-8 45.1248ms
2025-12-15 12:56:30.235 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/Books/20 - application/json 18
2025-12-15 12:56:30.236 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:56:30.239 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 12:56:30.256 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":null,"Author":null,"PublicationYear":null,"ISBN":null,"InStock":4,"$type":"UpdateBookRequest"}
2025-12-15 12:56:30.279 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 12:56:30.319 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "InStock" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-12-15 12:56:30.327 +01:00 [INF] Successfully updated book with Id: 20
2025-12-15 12:56:30.329 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 12:56:30.330 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 89.4814ms
2025-12-15 12:56:30.330 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:56:30.331 +01:00 [INF] HTTP PUT /api/Books/20 responded 204 in 94.4408 ms
2025-12-15 12:56:30.332 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/Books/20 - 204 null null 96.8061ms
2025-12-15 12:56:36.362 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/Books - null null
2025-12-15 12:56:36.363 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:56:36.364 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 12:56:36.365 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 12:56:36.368 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 12:56:36.369 +01:00 [INF] We retrieved 19 books from the database successfully
2025-12-15 12:56:36.370 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 12:56:36.371 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 5.7831ms
2025-12-15 12:56:36.371 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:56:36.372 +01:00 [INF] HTTP GET /api/Books responded 200 in 8.5581 ms
2025-12-15 12:56:36.373 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/Books - 200 null application/json; charset=utf-8 10.9922ms
2025-12-15 12:56:50.747 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/Books/20 - application/json 32
2025-12-15 12:56:50.748 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:56:50.749 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 12:56:50.751 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 12:56:50.752 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 2.3586ms
2025-12-15 12:56:50.753 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:56:50.753 +01:00 [INF] HTTP PUT /api/Books/20 responded 400 in 5.0904 ms
2025-12-15 12:56:50.754 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/Books/20 - 400 null application/problem+json; charset=utf-8 7.4649ms
2025-12-15 12:57:01.027 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/Books/20 - application/json 33
2025-12-15 12:57:01.028 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:57:01.029 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 12:57:01.031 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":"","Author":null,"PublicationYear":null,"ISBN":null,"InStock":4,"$type":"UpdateBookRequest"}
2025-12-15 12:57:01.034 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 12:57:01.036 +01:00 [INF] Successfully updated book with Id: 20
2025-12-15 12:57:01.036 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 12:57:01.037 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 7.0824ms
2025-12-15 12:57:01.038 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:57:01.038 +01:00 [INF] HTTP PUT /api/Books/20 responded 204 in 9.8872 ms
2025-12-15 12:57:01.039 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/Books/20 - 204 null null 12.3104ms
2025-12-15 12:57:04.994 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/Books - null null
2025-12-15 12:57:04.995 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:57:04.996 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 12:57:04.997 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 12:57:04.999 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 12:57:05.000 +01:00 [INF] We retrieved 19 books from the database successfully
2025-12-15 12:57:05.001 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 12:57:05.001 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.8772ms
2025-12-15 12:57:05.002 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 12:57:05.003 +01:00 [INF] HTTP GET /api/Books responded 200 in 7.7189 ms
2025-12-15 12:57:05.004 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/Books - 200 null application/json; charset=utf-8 10.368ms
2025-12-15 16:41:38.441 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/weatherforecast/ - null null
2025-12-15 16:41:38.442 +01:00 [INF] HTTP GET /weatherforecast/ responded 404 in 0.0808 ms
2025-12-15 16:41:38.443 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/weatherforecast/ - 404 0 null 2.6079ms
2025-12-15 16:41:38.445 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5031/weatherforecast/, Response status code: 404
2025-12-15 16:44:27.962 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/Books - null null
2025-12-15 16:44:27.963 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:44:27.964 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:44:27.965 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:44:27.970 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 16:44:27.971 +01:00 [INF] We retrieved 19 books from the database successfully
2025-12-15 16:44:27.972 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:44:27.972 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 7.3926ms
2025-12-15 16:44:27.973 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:44:27.974 +01:00 [INF] HTTP GET /api/Books responded 200 in 10.3395 ms
2025-12-15 16:44:27.975 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/Books - 200 null application/json; charset=utf-8 12.5803ms
2025-12-15 16:46:19.254 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books - application/json null
2025-12-15 16:46:19.255 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:46:19.256 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:46:19.257 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:46:19.259 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 16:46:19.261 +01:00 [INF] We retrieved 19 books from the database successfully
2025-12-15 16:46:19.261 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:46:19.262 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.9412ms
2025-12-15 16:46:19.263 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:46:19.263 +01:00 [INF] HTTP GET /api/books responded 200 in 7.7266 ms
2025-12-15 16:46:19.264 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books - 200 null application/json; charset=utf-8 9.9447ms
2025-12-15 16:47:00.274 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=r - application/json null
2025-12-15 16:47:00.275 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:00.275 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:47:00.278 +01:00 [INF] Getting all books. Payload: {"title":"r","author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:47:00.291 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0
2025-12-15 16:47:00.292 +01:00 [INF] We retrieved 13 books from the database successfully
2025-12-15 16:47:00.292 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:47:00.293 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 16.9185ms
2025-12-15 16:47:00.294 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:00.294 +01:00 [INF] HTTP GET /api/books responded 200 in 19.5442 ms
2025-12-15 16:47:00.295 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=r - 200 null application/json; charset=utf-8 21.6319ms
2025-12-15 16:47:15.697 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=Ringenes - application/json null
2025-12-15 16:47:15.699 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:15.700 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:47:15.701 +01:00 [INF] Getting all books. Payload: {"title":"Ringenes","author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:47:15.703 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0
2025-12-15 16:47:15.704 +01:00 [INF] We retrieved 1 books from the database successfully
2025-12-15 16:47:15.705 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:47:15.705 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.8567ms
2025-12-15 16:47:15.706 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:15.706 +01:00 [INF] HTTP GET /api/books responded 200 in 7.4049 ms
2025-12-15 16:47:15.707 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=Ringenes - 200 null application/json; charset=utf-8 9.7736ms
2025-12-15 16:47:23.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=Ring - application/json null
2025-12-15 16:47:23.014 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:23.014 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:47:23.015 +01:00 [INF] Getting all books. Payload: {"title":"Ring","author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:47:23.018 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0
2025-12-15 16:47:23.019 +01:00 [INF] We retrieved 1 books from the database successfully
2025-12-15 16:47:23.019 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:47:23.020 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.82ms
2025-12-15 16:47:23.020 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:23.021 +01:00 [INF] HTTP GET /api/books responded 200 in 7.3530 ms
2025-12-15 16:47:23.022 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=Ring - 200 null application/json; charset=utf-8 9.4494ms
2025-12-15 16:47:26.686 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books - application/json null
2025-12-15 16:47:26.687 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:26.687 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:47:26.689 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:47:26.691 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 16:47:26.692 +01:00 [INF] We retrieved 19 books from the database successfully
2025-12-15 16:47:26.692 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:47:26.693 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.5001ms
2025-12-15 16:47:26.694 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:26.694 +01:00 [INF] HTTP GET /api/books responded 200 in 7.1996 ms
2025-12-15 16:47:26.695 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books - 200 null application/json; charset=utf-8 9.3993ms
2025-12-15 16:47:49.120 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=Den - application/json null
2025-12-15 16:47:49.121 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:49.122 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:47:49.123 +01:00 [INF] Getting all books. Payload: {"title":"Den","author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:47:49.125 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0
2025-12-15 16:47:49.126 +01:00 [INF] We retrieved 2 books from the database successfully
2025-12-15 16:47:49.126 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:47:49.127 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.4354ms
2025-12-15 16:47:49.128 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:47:49.128 +01:00 [INF] HTTP GET /api/books responded 200 in 6.8669 ms
2025-12-15 16:47:49.129 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=Den - 200 null application/json; charset=utf-8 8.9539ms
2025-12-15 16:48:04.551 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?author=Knut - application/json null
2025-12-15 16:48:04.552 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:48:04.553 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:48:04.554 +01:00 [INF] Getting all books. Payload: {"title":null,"author":"Knut","publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:48:04.559 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Author"), @__ToLower_0) > 0
2025-12-15 16:48:04.560 +01:00 [INF] We retrieved 3 books from the database successfully
2025-12-15 16:48:04.560 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:48:04.561 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 6.9983ms
2025-12-15 16:48:04.561 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:48:04.562 +01:00 [INF] HTTP GET /api/books responded 200 in 9.5714 ms
2025-12-15 16:48:04.563 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?author=Knut - 200 null application/json; charset=utf-8 12.1256ms
2025-12-15 16:48:12.770 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?author=Amsun - application/json null
2025-12-15 16:48:12.772 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:48:12.772 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:48:12.773 +01:00 [INF] Getting all books. Payload: {"title":null,"author":"Amsun","publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:48:12.775 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Author"), @__ToLower_0) > 0
2025-12-15 16:48:12.776 +01:00 [INF] We retrieved 2 books from the database successfully
2025-12-15 16:48:12.777 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:48:12.778 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.4979ms
2025-12-15 16:48:12.778 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:48:12.779 +01:00 [INF] HTTP GET /api/books responded 200 in 7.2301 ms
2025-12-15 16:48:12.780 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?author=Amsun - 200 null application/json; charset=utf-8 9.3307ms
2025-12-15 16:48:21.142 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?author=Hamsun - application/json null
2025-12-15 16:48:21.143 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:48:21.143 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:48:21.144 +01:00 [INF] Getting all books. Payload: {"title":null,"author":"Hamsun","publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:48:21.146 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Author"), @__ToLower_0) > 0
2025-12-15 16:48:21.147 +01:00 [INF] We retrieved 2 books from the database successfully
2025-12-15 16:48:21.148 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:48:21.148 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.4767ms
2025-12-15 16:48:21.149 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:48:21.150 +01:00 [INF] HTTP GET /api/books responded 200 in 6.8781 ms
2025-12-15 16:48:21.150 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?author=Hamsun - 200 null application/json; charset=utf-8 8.9328ms
2025-12-15 16:48:57.471 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?year=2025 - null null
2025-12-15 16:48:57.472 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:48:57.473 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:48:57.474 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":2025,"isbn":null,"inStock":null}
2025-12-15 16:48:57.479 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__publicationYear_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."PublicationYear" = @__publicationYear_0
2025-12-15 16:48:57.480 +01:00 [INF] We retrieved 1 books from the database successfully
2025-12-15 16:48:57.481 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:48:57.481 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 7.5765ms
2025-12-15 16:48:57.482 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:48:57.482 +01:00 [INF] HTTP GET /api/books responded 200 in 10.3377 ms
2025-12-15 16:48:57.483 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?year=2025 - 200 null application/json; charset=utf-8 12.4182ms
2025-12-15 16:49:02.192 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?year=2024 - null null
2025-12-15 16:49:02.193 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:49:02.194 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:49:02.195 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":2024,"isbn":null,"inStock":null}
2025-12-15 16:49:02.197 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__publicationYear_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."PublicationYear" = @__publicationYear_0
2025-12-15 16:49:02.198 +01:00 [INF] We retrieved 1 books from the database successfully
2025-12-15 16:49:02.199 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:49:02.199 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.6303ms
2025-12-15 16:49:02.200 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:49:02.200 +01:00 [INF] HTTP GET /api/books responded 200 in 7.2660 ms
2025-12-15 16:49:02.201 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?year=2024 - 200 null application/json; charset=utf-8 9.2713ms
2025-12-15 16:49:24.516 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?isbn=BOK - null null
2025-12-15 16:49:24.517 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:49:24.518 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:49:24.519 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":"BOK","inStock":null}
2025-12-15 16:49:24.523 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."ISBN"), @__ToLower_0) > 0
2025-12-15 16:49:24.524 +01:00 [INF] We retrieved 3 books from the database successfully
2025-12-15 16:49:24.525 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:49:24.525 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 6.86ms
2025-12-15 16:49:24.526 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:49:24.527 +01:00 [INF] HTTP GET /api/books responded 200 in 9.3269 ms
2025-12-15 16:49:24.527 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?isbn=BOK - 200 null application/json; charset=utf-8 11.568ms
2025-12-15 16:49:54.480 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?instock=3 - null null
2025-12-15 16:49:54.481 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:49:54.482 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:49:54.484 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":3}
2025-12-15 16:49:54.488 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__inStock_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."InStock" = @__inStock_0
2025-12-15 16:49:54.489 +01:00 [INF] We retrieved 0 books from the database successfully
2025-12-15 16:49:54.489 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:49:54.490 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 7.1719ms
2025-12-15 16:49:54.491 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:49:54.491 +01:00 [INF] HTTP GET /api/books responded 200 in 9.6251 ms
2025-12-15 16:49:54.492 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?instock=3 - 200 null application/json; charset=utf-8 11.9285ms
2025-12-15 16:49:57.647 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?instock=2 - null null
2025-12-15 16:49:57.649 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:49:57.649 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:49:57.650 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":2}
2025-12-15 16:49:57.652 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__inStock_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."InStock" = @__inStock_0
2025-12-15 16:49:57.653 +01:00 [INF] We retrieved 1 books from the database successfully
2025-12-15 16:49:57.654 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:49:57.654 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.1192ms
2025-12-15 16:49:57.655 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:49:57.655 +01:00 [INF] HTTP GET /api/books responded 200 in 6.4993 ms
2025-12-15 16:49:57.656 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?instock=2 - 200 null application/json; charset=utf-8 8.4689ms
2025-12-15 16:50:01.707 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?instock=4 - null null
2025-12-15 16:50:01.708 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:50:01.709 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:50:01.710 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":4}
2025-12-15 16:50:01.712 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__inStock_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."InStock" = @__inStock_0
2025-12-15 16:50:01.713 +01:00 [INF] We retrieved 2 books from the database successfully
2025-12-15 16:50:01.713 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:50:01.714 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.698ms
2025-12-15 16:50:01.715 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:50:01.715 +01:00 [INF] HTTP GET /api/books responded 200 in 7.1219 ms
2025-12-15 16:50:01.716 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?instock=4 - 200 null application/json; charset=utf-8 9.2091ms
2025-12-15 16:51:11.751 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=E&author=T - null null
2025-12-15 16:51:11.752 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:51:11.753 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:51:11.754 +01:00 [INF] Getting all books. Payload: {"title":"E","author":"T","publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:51:11.760 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 1), @__ToLower_1='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0 AND instr(lower("b"."Author"), @__ToLower_1) > 0
2025-12-15 16:51:11.761 +01:00 [INF] We retrieved 10 books from the database successfully
2025-12-15 16:51:11.762 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:51:11.762 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 8.3365ms
2025-12-15 16:51:11.763 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:51:11.763 +01:00 [INF] HTTP GET /api/books responded 200 in 10.7867 ms
2025-12-15 16:51:11.764 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=E&author=T - 200 null application/json; charset=utf-8 13.0708ms
2025-12-15 16:51:40.230 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=E&author=T&year=2024 - null null
2025-12-15 16:51:40.232 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:51:40.232 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:51:40.233 +01:00 [INF] Getting all books. Payload: {"title":"E","author":"T","publicationYear":2024,"isbn":null,"inStock":null}
2025-12-15 16:51:40.238 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 1), @__ToLower_1='?' (Size = 1), @__publicationYear_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0 AND instr(lower("b"."Author"), @__ToLower_1) > 0 AND "b"."PublicationYear" = @__publicationYear_2
2025-12-15 16:51:40.239 +01:00 [INF] We retrieved 1 books from the database successfully
2025-12-15 16:51:40.240 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:51:40.240 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 7.329ms
2025-12-15 16:51:40.241 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:51:40.242 +01:00 [INF] HTTP GET /api/books responded 200 in 9.8985 ms
2025-12-15 16:51:40.242 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=E&author=T&year=2024 - 200 null application/json; charset=utf-8 12.0563ms
2025-12-15 16:54:39.548 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=%C3%86%C3%A6 - null null
2025-12-15 16:54:39.549 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:54:39.550 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:54:39.551 +01:00 [INF] Getting all books. Payload: {"title":"","author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:54:39.553 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0
2025-12-15 16:54:39.554 +01:00 [INF] We retrieved 0 books from the database successfully
2025-12-15 16:54:39.555 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:54:39.556 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.9194ms
2025-12-15 16:54:39.556 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:54:39.557 +01:00 [INF] HTTP GET /api/books responded 200 in 7.4617 ms
2025-12-15 16:54:39.557 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=%C3%86%C3%A6 - 200 null application/json; charset=utf-8 9.4904ms
2025-12-15 16:54:42.444 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=Aa - null null
2025-12-15 16:54:42.445 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:54:42.446 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:54:42.447 +01:00 [INF] Getting all books. Payload: {"title":"Aa","author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:54:42.449 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0
2025-12-15 16:54:42.450 +01:00 [INF] We retrieved 0 books from the database successfully
2025-12-15 16:54:42.450 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:54:42.451 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.7288ms
2025-12-15 16:54:42.452 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:54:42.452 +01:00 [INF] HTTP GET /api/books responded 200 in 7.2396 ms
2025-12-15 16:54:42.453 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=Aa - 200 null application/json; charset=utf-8 9.3646ms
2025-12-15 16:54:59.104 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=Aa - null null
2025-12-15 16:54:59.106 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:54:59.106 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:54:59.107 +01:00 [INF] Getting all books. Payload: {"title":"Aa","author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 16:54:59.110 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0
2025-12-15 16:54:59.110 +01:00 [INF] We retrieved 0 books from the database successfully
2025-12-15 16:54:59.111 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:54:59.112 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.4976ms
2025-12-15 16:54:59.112 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:54:59.113 +01:00 [INF] HTTP GET /api/books responded 200 in 7.0316 ms
2025-12-15 16:54:59.114 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=Aa - 200 null application/json; charset=utf-8 9.1975ms
2025-12-15 16:55:29.781 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?instock=4 - null null
2025-12-15 16:55:29.782 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:55:29.783 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:55:29.784 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":4}
2025-12-15 16:55:29.786 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__inStock_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."InStock" = @__inStock_0
2025-12-15 16:55:29.787 +01:00 [INF] We retrieved 2 books from the database successfully
2025-12-15 16:55:29.787 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:55:29.788 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.6945ms
2025-12-15 16:55:29.789 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:55:29.789 +01:00 [INF] HTTP GET /api/books responded 200 in 7.1127 ms
2025-12-15 16:55:29.790 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?instock=4 - 200 null application/json; charset=utf-8 9.1605ms
2025-12-15 16:55:39.300 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?inStock=4 - null null
2025-12-15 16:55:39.302 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:55:39.302 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:55:39.303 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":4}
2025-12-15 16:55:39.305 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__inStock_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."InStock" = @__inStock_0
2025-12-15 16:55:39.306 +01:00 [INF] We retrieved 2 books from the database successfully
2025-12-15 16:55:39.307 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 16:55:39.307 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 4.3655ms
2025-12-15 16:55:39.308 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:55:39.308 +01:00 [INF] HTTP GET /api/books responded 200 in 6.8753 ms
2025-12-15 16:55:39.309 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?inStock=4 - 200 null application/json; charset=utf-8 8.9679ms
2025-12-15 16:59:25.281 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?year=Godag - null null
2025-12-15 16:59:25.283 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:59:25.283 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:59:25.285 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 16:59:25.285 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 1.049ms
2025-12-15 16:59:25.286 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:59:25.286 +01:00 [INF] HTTP GET /api/books responded 400 in 3.5356 ms
2025-12-15 16:59:25.287 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?year=Godag - 400 null application/problem+json; charset=utf-8 5.6624ms
2025-12-15 16:59:33.978 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?year=Test - null null
2025-12-15 16:59:33.979 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:59:33.979 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 16:59:33.980 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 16:59:33.981 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 0.8876ms
2025-12-15 16:59:33.982 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 16:59:33.982 +01:00 [INF] HTTP GET /api/books responded 400 in 3.4352 ms
2025-12-15 16:59:33.983 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?year=Test - 400 null application/problem+json; charset=utf-8 5.3578ms
2025-12-15 17:00:58.816 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?year=Test - null null
2025-12-15 17:00:58.818 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:00:58.818 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:00:58.819 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 17:00:58.820 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 0.8399ms
2025-12-15 17:00:58.820 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:00:58.821 +01:00 [INF] HTTP GET /api/books responded 400 in 3.1089 ms
2025-12-15 17:00:58.822 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?year=Test - 400 null application/problem+json; charset=utf-8 5.1551ms
2025-12-15 17:01:13.702 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books?title=Den - null null
2025-12-15 17:01:13.704 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:01:13.704 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:01:13.705 +01:00 [INF] Getting all books. Payload: {"title":"Den","author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 17:01:13.709 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE instr(lower("b"."Title"), @__ToLower_0) > 0
2025-12-15 17:01:13.710 +01:00 [INF] We retrieved 2 books from the database successfully
2025-12-15 17:01:13.710 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 17:01:13.711 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 5.7375ms
2025-12-15 17:01:13.711 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:01:13.712 +01:00 [INF] HTTP GET /api/books responded 200 in 8.4432 ms
2025-12-15 17:01:13.713 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books?title=Den - 200 null application/json; charset=utf-8 10.6192ms
2025-12-15 17:01:54.448 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/instock - null null
2025-12-15 17:01:54.450 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:01:54.450 +01:00 [INF] Route matched with {action = "GetBooksInStock", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksInStock() on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:01:54.451 +01:00 [INF] Getting all books in stock
2025-12-15 17:01:54.452 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."InStock" > 0
2025-12-15 17:01:54.453 +01:00 [INF] We retrieved 14 books from the database successfully
2025-12-15 17:01:54.454 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 17:01:54.455 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav) in 3.5554ms
2025-12-15 17:01:54.455 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:01:54.456 +01:00 [INF] HTTP GET /api/books/instock responded 200 in 5.9325 ms
2025-12-15 17:01:54.456 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/instock - 200 null application/json; charset=utf-8 7.9803ms
2025-12-15 17:02:43.792 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/1 - null null
2025-12-15 17:02:43.793 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:02:43.794 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:02:43.795 +01:00 [INF] GetBookById called with id 1
2025-12-15 17:02:43.796 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 17:02:43.797 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 17:02:43.798 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 17:02:43.799 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 4.0811ms
2025-12-15 17:02:43.799 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:02:43.800 +01:00 [INF] HTTP GET /api/books/1 responded 200 in 6.5278 ms
2025-12-15 17:02:43.800 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/1 - 200 null application/json; charset=utf-8 8.4897ms
2025-12-15 17:03:11.764 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/0 - null null
2025-12-15 17:03:11.765 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:03:11.766 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:03:11.767 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 17:03:11.767 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 0.8894ms
2025-12-15 17:03:11.768 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:03:11.768 +01:00 [INF] HTTP GET /api/books/0 responded 400 in 3.2556 ms
2025-12-15 17:03:11.769 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/0 - 400 null application/problem+json; charset=utf-8 5.6089ms
2025-12-15 17:03:37.112 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/1 - null null
2025-12-15 17:03:37.113 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:03:37.114 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:03:37.115 +01:00 [INF] GetBookById called with id 1
2025-12-15 17:03:37.116 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 17:03:37.117 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 17:03:37.118 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 17:03:37.118 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.518ms
2025-12-15 17:03:37.119 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:03:37.120 +01:00 [INF] HTTP GET /api/books/1 responded 200 in 6.1861 ms
2025-12-15 17:03:37.120 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/1 - 200 null application/json; charset=utf-8 8.4126ms
2025-12-15 17:04:18.244 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/3000 - null null
2025-12-15 17:04:18.246 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:04:18.246 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:04:18.247 +01:00 [INF] GetBookById called with id 3000
2025-12-15 17:04:18.248 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 17:04:18.250 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 2.613ms
2025-12-15 17:04:18.250 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:04:18.251 +01:00 [ERR] HTTP GET /api/books/3000 responded 500 in 5.2860 ms
System.Collections.Generic.KeyNotFoundException: Book with Id 3000 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 66
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 17:04:18.267 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Book with Id 3000 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 66
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 17:04:18.270 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: Book with Id 3000 not found
System.Collections.Generic.KeyNotFoundException: Book with Id 3000 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 66
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 17:04:18.273 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/3000 - 404 null application/json; charset=utf-8 29.1229ms
2025-12-15 17:04:50.206 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/test - null null
2025-12-15 17:04:50.208 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:04:50.208 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:04:50.210 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 17:04:50.210 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 0.9902ms
2025-12-15 17:04:50.211 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:04:50.211 +01:00 [INF] HTTP GET /api/books/test responded 400 in 3.5066 ms
2025-12-15 17:04:50.212 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/test - 400 null application/problem+json; charset=utf-8 5.5897ms
2025-12-15 17:05:50.619 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/1 - null null
2025-12-15 17:05:50.621 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:05:50.621 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:05:50.622 +01:00 [INF] GetBookById called with id 1
2025-12-15 17:05:50.623 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 17:05:50.624 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 17:05:50.625 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 17:05:50.626 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.3476ms
2025-12-15 17:05:50.626 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:05:50.627 +01:00 [INF] HTTP GET /api/books/1 responded 200 in 5.8252 ms
2025-12-15 17:05:50.627 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/1 - 200 null application/json; charset=utf-8 7.847ms
2025-12-15 17:05:57.494 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/11 - null null
2025-12-15 17:05:57.496 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:05:57.496 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:05:57.497 +01:00 [INF] GetBookById called with id 11
2025-12-15 17:05:57.498 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 17:05:57.499 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 17:05:57.500 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 17:05:57.500 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.1215ms
2025-12-15 17:05:57.501 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:05:57.501 +01:00 [INF] HTTP GET /api/books/11 responded 200 in 5.6083 ms
2025-12-15 17:05:57.502 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/11 - 200 null application/json; charset=utf-8 7.7687ms
2025-12-15 17:07:53.896 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/books - application/json 126
2025-12-15 17:07:53.897 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:07:53.899 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 17:07:53.903 +01:00 [INF] CreateBook called with CreateBookRequest {"Title":"Test Tittel","Author":"Test Forfatter","PublicationYear":2023,"ISBN":"TESTBOK8372","InStock":1,"$type":"CreateBookRequest"}
2025-12-15 17:07:53.919 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 14), @p1='?' (Size = 11), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Author", "ISBN", "InStock", "PublicationYear", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-15 17:07:53.928 +01:00 [INF] Book created successfully with ID 21
2025-12-15 17:07:53.928 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 17:07:53.935 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 34.6807ms
2025-12-15 17:07:53.936 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 17:07:53.936 +01:00 [INF] HTTP POST /api/books responded 201 in 39.1108 ms
2025-12-15 17:07:53.937 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/books - 201 null application/json; charset=utf-8 41.1806ms
2025-12-15 18:01:43.234 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/books - application/json 99
2025-12-15 18:01:43.236 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:01:43.236 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:01:43.240 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:01:43.241 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 3.9ms
2025-12-15 18:01:43.242 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:01:43.242 +01:00 [INF] HTTP POST /api/books responded 400 in 6.2750 ms
2025-12-15 18:01:43.243 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/books - 400 null application/problem+json; charset=utf-8 8.4136ms
2025-12-15 18:01:51.275 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/books - application/json 100
2025-12-15 18:01:51.277 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:01:51.277 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:01:51.278 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:01:51.279 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 0.8861ms
2025-12-15 18:01:51.279 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:01:51.280 +01:00 [INF] HTTP POST /api/books responded 400 in 3.3492 ms
2025-12-15 18:01:51.281 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/books - 400 null application/problem+json; charset=utf-8 5.216ms
2025-12-15 18:02:36.182 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/books - application/json 115
2025-12-15 18:02:36.183 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:02:36.184 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:02:36.185 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:02:36.186 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 0.9887ms
2025-12-15 18:02:36.186 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:02:36.187 +01:00 [INF] HTTP POST /api/books responded 400 in 3.3868 ms
2025-12-15 18:02:36.188 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/books - 400 null application/problem+json; charset=utf-8 5.5276ms
2025-12-15 18:04:45.414 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/books - application/json 125
2025-12-15 18:04:45.415 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:04:45.416 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:04:45.417 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:04:45.418 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 1.0355ms
2025-12-15 18:04:45.418 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:04:45.419 +01:00 [INF] HTTP POST /api/books responded 400 in 3.5502 ms
2025-12-15 18:04:45.420 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/books - 400 null application/problem+json; charset=utf-8 5.7072ms
2025-12-15 18:05:34.771 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/books - application/json 124
2025-12-15 18:05:34.772 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:05:34.773 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:05:34.774 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:05:34.774 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 1.0313ms
2025-12-15 18:05:34.775 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:05:34.776 +01:00 [INF] HTTP POST /api/books responded 400 in 3.4771 ms
2025-12-15 18:05:34.776 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/books - 400 null application/problem+json; charset=utf-8 5.6642ms
2025-12-15 18:07:45.254 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/books - application/json 148
2025-12-15 18:07:45.255 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:07:45.256 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:07:45.257 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:07:45.258 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 0.9236ms
2025-12-15 18:07:45.258 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:07:45.259 +01:00 [INF] HTTP POST /api/books responded 400 in 3.3071 ms
2025-12-15 18:07:45.260 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/books - 400 null application/problem+json; charset=utf-8 5.4044ms
2025-12-15 18:08:07.211 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books - null null
2025-12-15 18:08:07.213 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:08:07.213 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:08:07.215 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 18:08:07.218 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 18:08:07.219 +01:00 [INF] We retrieved 20 books from the database successfully
2025-12-15 18:08:07.219 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 18:08:07.220 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 5.4051ms
2025-12-15 18:08:07.220 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:08:07.221 +01:00 [INF] HTTP GET /api/books responded 200 in 8.0791 ms
2025-12-15 18:08:07.222 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books - 200 null application/json; charset=utf-8 10.2772ms
2025-12-15 18:08:18.670 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/books - application/json 120
2025-12-15 18:08:18.672 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:08:18.672 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:08:18.673 +01:00 [INF] CreateBook called with CreateBookRequest {"Title":"Test Tittel","Author":"TestForfatter","PublicationYear":3,"ISBN":"KORTBOK24","InStock":1,"$type":"CreateBookRequest"}
2025-12-15 18:08:18.678 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (Size = 13), @p1='?' (Size = 9), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Author", "ISBN", "InStock", "PublicationYear", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-15 18:08:18.683 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'FredrikMageeEmne7Arbkrav.Data.BookDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-15 18:08:18.686 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 13.5707ms
2025-12-15 18:08:18.687 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:08:18.688 +01:00 [ERR] HTTP POST /api/books responded 500 in 16.0672 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FredrikMageeEmne7Arbkrav.Repositories.BookRepository.CreateBookAsync(Book book) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Repositories\BookRepository.cs:line 70
   at FredrikMageeEmne7Arbkrav.Services.BooksService.CreateBookAsync(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 86
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 18:08:18.692 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FredrikMageeEmne7Arbkrav.Repositories.BookRepository.CreateBookAsync(Book book) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Repositories\BookRepository.cs:line 70
   at FredrikMageeEmne7Arbkrav.Services.BooksService.CreateBookAsync(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 86
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:08:18.696 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FredrikMageeEmne7Arbkrav.Repositories.BookRepository.CreateBookAsync(Book book) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Repositories\BookRepository.cs:line 70
   at FredrikMageeEmne7Arbkrav.Services.BooksService.CreateBookAsync(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 86
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:08:18.700 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/books - 409 null application/json; charset=utf-8 30.3524ms
2025-12-15 18:10:18.597 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 126
2025-12-15 18:10:18.598 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:10:18.598 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:10:18.600 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":"Test Tittel","Author":"Test Forfatter","PublicationYear":2023,"ISBN":"TESTBOK8372","InStock":4,"$type":"UpdateBookRequest"}
2025-12-15 18:10:18.602 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:10:18.604 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "InStock" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-12-15 18:10:18.606 +01:00 [INF] Successfully updated book with Id: 21
2025-12-15 18:10:18.607 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 18:10:18.607 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 8.1336ms
2025-12-15 18:10:18.608 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:10:18.609 +01:00 [INF] HTTP PUT /api/books/21 responded 204 in 10.7856 ms
2025-12-15 18:10:18.609 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 204 null null 12.838ms
2025-12-15 18:10:59.880 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/0 - null null
2025-12-15 18:10:59.881 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:10:59.882 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:10:59.883 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:10:59.883 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 0.8717ms
2025-12-15 18:10:59.884 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:10:59.884 +01:00 [INF] HTTP GET /api/books/0 responded 400 in 3.5194 ms
2025-12-15 18:10:59.885 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/0 - 400 null application/problem+json; charset=utf-8 5.6502ms
2025-12-15 18:11:23.500 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/21 - null null
2025-12-15 18:11:23.502 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:11:23.502 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:11:23.503 +01:00 [INF] GetBookById called with id 21
2025-12-15 18:11:23.504 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:11:23.505 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 18:11:23.506 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 18:11:23.506 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.2472ms
2025-12-15 18:11:23.507 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:11:23.507 +01:00 [INF] HTTP GET /api/books/21 responded 200 in 5.7330 ms
2025-12-15 18:11:23.508 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/21 - 200 null application/json; charset=utf-8 7.8587ms
2025-12-15 18:11:27.197 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 127
2025-12-15 18:11:27.199 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:11:27.199 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:11:27.200 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":"Test Tittel","Author":"Test Forfatter","PublicationYear":2023,"ISBN":"TESTBOK8372","InStock":19,"$type":"UpdateBookRequest"}
2025-12-15 18:11:27.203 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:11:27.204 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "InStock" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-12-15 18:11:27.206 +01:00 [INF] Successfully updated book with Id: 21
2025-12-15 18:11:27.207 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 18:11:27.207 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 6.9544ms
2025-12-15 18:11:27.208 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:11:27.208 +01:00 [INF] HTTP PUT /api/books/21 responded 204 in 9.3522 ms
2025-12-15 18:11:27.209 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 204 null null 11.3721ms
2025-12-15 18:11:28.834 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/21 - null null
2025-12-15 18:11:28.835 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:11:28.835 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:11:28.836 +01:00 [INF] GetBookById called with id 21
2025-12-15 18:11:28.837 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:11:28.838 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 18:11:28.839 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 18:11:28.839 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.023ms
2025-12-15 18:11:28.840 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:11:28.840 +01:00 [INF] HTTP GET /api/books/21 responded 200 in 5.3411 ms
2025-12-15 18:11:28.841 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/21 - 200 null application/json; charset=utf-8 7.3724ms
2025-12-15 18:12:37.320 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 123
2025-12-15 18:12:37.321 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:12:37.322 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:12:37.323 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":"Ny Tittel","Author":"Ny Forfatter","PublicationYear":1900,"ISBN":"NYISBN1900","InStock":205,"$type":"UpdateBookRequest"}
2025-12-15 18:12:37.325 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:12:37.329 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 12), @p1='?' (Size = 10), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "ISBN" = @p1, "InStock" = @p2, "PublicationYear" = @p3, "Title" = @p4
WHERE "Id" = @p5
RETURNING 1;
2025-12-15 18:12:37.331 +01:00 [INF] Successfully updated book with Id: 21
2025-12-15 18:12:37.331 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 18:12:37.332 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 9.4111ms
2025-12-15 18:12:37.333 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:12:37.333 +01:00 [INF] HTTP PUT /api/books/21 responded 204 in 11.7185 ms
2025-12-15 18:12:37.334 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 204 null null 13.8042ms
2025-12-15 18:12:38.883 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/21 - null null
2025-12-15 18:12:38.884 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:12:38.885 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:12:38.886 +01:00 [INF] GetBookById called with id 21
2025-12-15 18:12:38.887 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:12:38.888 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 18:12:38.888 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 18:12:38.889 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.1961ms
2025-12-15 18:12:38.889 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:12:38.890 +01:00 [INF] HTTP GET /api/books/21 responded 200 in 5.6705 ms
2025-12-15 18:12:38.890 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/21 - 200 null application/json; charset=utf-8 7.7175ms
2025-12-15 18:14:05.069 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 42
2025-12-15 18:14:05.071 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:14:05.071 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:14:05.072 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":"Kun Tittel Blir Oppdatert","Author":null,"PublicationYear":null,"ISBN":null,"InStock":null,"$type":"UpdateBookRequest"}
2025-12-15 18:14:05.075 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:14:05.076 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Title" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-12-15 18:14:05.078 +01:00 [INF] Successfully updated book with Id: 21
2025-12-15 18:14:05.078 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 18:14:05.079 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 6.4388ms
2025-12-15 18:14:05.079 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:14:05.080 +01:00 [INF] HTTP PUT /api/books/21 responded 204 in 8.7240 ms
2025-12-15 18:14:05.080 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 204 null null 10.8062ms
2025-12-15 18:14:06.882 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/21 - null null
2025-12-15 18:14:06.884 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:14:06.884 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:14:06.885 +01:00 [INF] GetBookById called with id 21
2025-12-15 18:14:06.886 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:14:06.887 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 18:14:06.888 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 18:14:06.888 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.2696ms
2025-12-15 18:14:06.889 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:14:06.889 +01:00 [INF] HTTP GET /api/books/21 responded 200 in 5.7268 ms
2025-12-15 18:14:06.890 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/21 - 200 null application/json; charset=utf-8 7.7391ms
2025-12-15 18:14:56.424 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 3
2025-12-15 18:14:56.426 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:14:56.426 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:14:56.427 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":null,"Author":null,"PublicationYear":null,"ISBN":null,"InStock":null,"$type":"UpdateBookRequest"}
2025-12-15 18:14:56.430 +01:00 [INF] Book with ID 21 cannot be updated without any properties in the request
2025-12-15 18:14:56.430 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 3.0795ms
2025-12-15 18:14:56.431 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:14:56.431 +01:00 [ERR] HTTP PUT /api/books/21 responded 500 in 5.7095 ms
System.ComponentModel.DataAnnotations.ValidationException: At least one field is required to updated the book
   at FredrikMageeEmne7Arbkrav.Services.BooksService.UpdateBookAsync(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 113
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 18:14:56.434 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ComponentModel.DataAnnotations.ValidationException: At least one field is required to updated the book
   at FredrikMageeEmne7Arbkrav.Services.BooksService.UpdateBookAsync(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 113
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:14:56.436 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: At least one field is required to updated the book
System.ComponentModel.DataAnnotations.ValidationException: At least one field is required to updated the book
   at FredrikMageeEmne7Arbkrav.Services.BooksService.UpdateBookAsync(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 113
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:14:56.438 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 400 null application/json; charset=utf-8 13.6593ms
2025-12-15 18:15:46.949 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 25
2025-12-15 18:15:46.950 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:15:46.950 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:15:46.951 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":null,"Author":null,"PublicationYear":null,"ISBN":"KORTBOK24","InStock":null,"$type":"UpdateBookRequest"}
2025-12-15 18:15:46.954 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:15:46.956 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "ISBN" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-12-15 18:15:46.957 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'FredrikMageeEmne7Arbkrav.Data.BookDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-15 18:15:46.960 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 8.5936ms
2025-12-15 18:15:46.960 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:15:46.961 +01:00 [ERR] HTTP PUT /api/books/21 responded 500 in 10.9664 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FredrikMageeEmne7Arbkrav.Repositories.BookRepository.SaveChangesAsync() in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Repositories\BookRepository.cs:line 79
   at FredrikMageeEmne7Arbkrav.Services.BooksService.UpdateBookAsync(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 141
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 18:15:46.965 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FredrikMageeEmne7Arbkrav.Repositories.BookRepository.SaveChangesAsync() in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Repositories\BookRepository.cs:line 79
   at FredrikMageeEmne7Arbkrav.Services.BooksService.UpdateBookAsync(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 141
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:15:46.969 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FredrikMageeEmne7Arbkrav.Repositories.BookRepository.SaveChangesAsync() in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Repositories\BookRepository.cs:line 79
   at FredrikMageeEmne7Arbkrav.Services.BooksService.UpdateBookAsync(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 141
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:15:46.973 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 409 null application/json; charset=utf-8 24.7782ms
2025-12-15 18:16:39.060 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 29
2025-12-15 18:16:39.061 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:16:39.062 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:16:39.063 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:16:39.063 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 0.8056ms
2025-12-15 18:16:39.064 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:16:39.064 +01:00 [INF] HTTP PUT /api/books/21 responded 400 in 2.9623 ms
2025-12-15 18:16:39.065 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 400 null application/problem+json; charset=utf-8 5.0108ms
2025-12-15 18:17:27.788 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 53
2025-12-15 18:17:27.789 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:17:27.789 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:17:27.790 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:17:27.791 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 0.8776ms
2025-12-15 18:17:27.792 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:17:27.792 +01:00 [INF] HTTP PUT /api/books/21 responded 400 in 3.1333 ms
2025-12-15 18:17:27.793 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 400 null application/problem+json; charset=utf-8 5.1042ms
2025-12-15 18:18:31.837 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/3000 - application/json 29
2025-12-15 18:18:31.839 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:18:31.839 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:18:31.840 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:18:31.841 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 0.8975ms
2025-12-15 18:18:31.841 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:18:31.842 +01:00 [INF] HTTP PUT /api/books/3000 responded 400 in 3.3254 ms
2025-12-15 18:18:31.843 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/3000 - 400 null application/problem+json; charset=utf-8 5.3791ms
2025-12-15 18:18:49.417 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/3000 - application/json 26
2025-12-15 18:18:49.418 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:18:49.419 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:18:49.420 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":"Ny Tittel","Author":null,"PublicationYear":null,"ISBN":null,"InStock":null,"$type":"UpdateBookRequest"}
2025-12-15 18:18:49.422 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:18:49.423 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 3.6539ms
2025-12-15 18:18:49.424 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:18:49.424 +01:00 [ERR] HTTP PUT /api/books/3000 responded 500 in 6.0949 ms
System.Collections.Generic.KeyNotFoundException: Book with Id 3000 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.UpdateBookAsync(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 121
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 18:18:49.427 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Book with Id 3000 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.UpdateBookAsync(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 121
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:18:49.429 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: Book with Id 3000 not found
System.Collections.Generic.KeyNotFoundException: Book with Id 3000 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.UpdateBookAsync(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 121
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook(Int32 bookId, UpdateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:18:49.431 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/3000 - 404 null application/json; charset=utf-8 13.7768ms
2025-12-15 18:21:15.854 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 41
2025-12-15 18:21:15.856 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:21:15.856 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:21:15.857 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":null,"Author":"Kun Forfatter Oppdatert","PublicationYear":null,"ISBN":null,"InStock":null,"$type":"UpdateBookRequest"}
2025-12-15 18:21:15.860 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:21:15.861 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-12-15 18:21:15.863 +01:00 [INF] Successfully updated book with Id: 21
2025-12-15 18:21:15.863 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 18:21:15.863 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 6.2537ms
2025-12-15 18:21:15.864 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:21:15.864 +01:00 [INF] HTTP PUT /api/books/21 responded 204 in 8.5118 ms
2025-12-15 18:21:15.865 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 204 null null 10.7118ms
2025-12-15 18:21:37.042 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 19
2025-12-15 18:21:37.043 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:21:37.044 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:21:37.045 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":null,"Author":null,"PublicationYear":null,"ISBN":null,"InStock":-5,"$type":"UpdateBookRequest"}
2025-12-15 18:21:37.047 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:21:37.049 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "InStock" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-12-15 18:21:37.050 +01:00 [INF] Successfully updated book with Id: 21
2025-12-15 18:21:37.051 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 18:21:37.051 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 6.3735ms
2025-12-15 18:21:37.052 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:21:37.052 +01:00 [INF] HTTP PUT /api/books/21 responded 204 in 8.8150 ms
2025-12-15 18:21:37.053 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 204 null null 10.8116ms
2025-12-15 18:22:12.263 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 26
2025-12-15 18:22:12.265 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:22:12.265 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:22:12.266 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":null,"Author":null,"PublicationYear":null,"ISBN":"NYISBNYEPP","InStock":null,"$type":"UpdateBookRequest"}
2025-12-15 18:22:12.269 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:22:12.270 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "ISBN" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-12-15 18:22:12.271 +01:00 [INF] Successfully updated book with Id: 21
2025-12-15 18:22:12.272 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 18:22:12.272 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 6.25ms
2025-12-15 18:22:12.273 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:22:12.273 +01:00 [INF] HTTP PUT /api/books/21 responded 204 in 8.4705 ms
2025-12-15 18:22:12.274 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 204 null null 10.5788ms
2025-12-15 18:23:15.157 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5031/api/books/21 - application/json 28
2025-12-15 18:23:15.158 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:23:15.159 +01:00 [INF] Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, FredrikMageeEmne7Arbkrav.DTOs.Requests.UpdateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:23:15.160 +01:00 [INF] UpdateBook called with UpdateBookRequest {"Title":null,"Author":null,"PublicationYear":123,"ISBN":null,"InStock":null,"$type":"UpdateBookRequest"}
2025-12-15 18:23:15.163 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:23:15.164 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "PublicationYear" = @p0
WHERE "Id" = @p1
RETURNING 1;
2025-12-15 18:23:15.165 +01:00 [INF] Successfully updated book with Id: 21
2025-12-15 18:23:15.166 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 18:23:15.166 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav) in 6.6572ms
2025-12-15 18:23:15.167 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.UpdateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:23:15.167 +01:00 [INF] HTTP PUT /api/books/21 responded 204 in 8.9412 ms
2025-12-15 18:23:15.168 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5031/api/books/21 - 204 null null 10.9267ms
2025-12-15 18:23:20.088 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/21 - null null
2025-12-15 18:23:20.090 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:23:20.090 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:23:20.091 +01:00 [INF] GetBookById called with id 21
2025-12-15 18:23:20.092 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:23:20.093 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 18:23:20.094 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 18:23:20.095 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.7211ms
2025-12-15 18:23:20.095 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:23:20.096 +01:00 [INF] HTTP GET /api/books/21 responded 200 in 6.1451 ms
2025-12-15 18:23:20.096 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/21 - 200 null application/json; charset=utf-8 8.2048ms
2025-12-15 18:26:03.960 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/21 - null null
2025-12-15 18:26:03.961 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:26:03.962 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:26:03.963 +01:00 [INF] GetBookById called with id 21
2025-12-15 18:26:03.964 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:26:03.965 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 18:26:03.965 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 18:26:03.966 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.3826ms
2025-12-15 18:26:03.967 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:26:03.967 +01:00 [INF] HTTP GET /api/books/21 responded 200 in 5.8197 ms
2025-12-15 18:26:03.968 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/21 - 200 null application/json; charset=utf-8 7.8569ms
2025-12-15 18:26:33.046 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/21 - null null
2025-12-15 18:26:33.048 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:26:33.048 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:26:33.049 +01:00 [INF] GetBookById called with id 21
2025-12-15 18:26:33.050 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:26:33.051 +01:00 [INF] Book FredrikMageeEmne7Arbkrav.Models.Book retrieved successfully
2025-12-15 18:26:33.052 +01:00 [INF] Executing OkObjectResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 18:26:33.052 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 3.2789ms
2025-12-15 18:26:33.053 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:26:33.054 +01:00 [INF] HTTP GET /api/books/21 responded 200 in 5.7845 ms
2025-12-15 18:26:33.054 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/21 - 200 null application/json; charset=utf-8 7.8423ms
2025-12-15 18:26:42.738 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5031/api/books/21 - null 0
2025-12-15 18:26:42.739 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:26:42.742 +01:00 [INF] Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:26:42.743 +01:00 [INF] DeleteBook called with 21
2025-12-15 18:26:42.744 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:26:42.748 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0
RETURNING 1;
2025-12-15 18:26:42.750 +01:00 [INF] Successfully deleted book with Id: 21
2025-12-15 18:26:42.751 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 18:26:42.751 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav) in 8.9084ms
2025-12-15 18:26:42.752 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:26:42.752 +01:00 [INF] HTTP DELETE /api/books/21 responded 204 in 12.9600 ms
2025-12-15 18:26:42.753 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5031/api/books/21 - 204 null null 14.9961ms
2025-12-15 18:26:45.378 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/books/21 - null null
2025-12-15 18:26:45.380 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:26:45.380 +01:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:26:45.381 +01:00 [INF] GetBookById called with id 21
2025-12-15 18:26:45.382 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:26:45.383 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav) in 2.091ms
2025-12-15 18:26:45.384 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:26:45.384 +01:00 [ERR] HTTP GET /api/books/21 responded 500 in 4.4808 ms
System.Collections.Generic.KeyNotFoundException: Book with Id 21 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 66
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 18:26:45.386 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Book with Id 21 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 66
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:26:45.388 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: Book with Id 21 not found
System.Collections.Generic.KeyNotFoundException: Book with Id 21 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.GetBookByIdAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 66
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBookById(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:26:45.390 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/books/21 - 404 null application/json; charset=utf-8 11.8304ms
2025-12-15 18:27:47.721 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5031/api/books/0 - null 0
2025-12-15 18:27:47.723 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:27:47.723 +01:00 [INF] Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:27:47.724 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:27:47.725 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav) in 0.7714ms
2025-12-15 18:27:47.725 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:27:47.726 +01:00 [INF] HTTP DELETE /api/books/0 responded 400 in 3.3523 ms
2025-12-15 18:27:47.727 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5031/api/books/0 - 400 null application/problem+json; charset=utf-8 5.5881ms
2025-12-15 18:27:51.822 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5031/api/books/test - null 0
2025-12-15 18:27:51.823 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:27:51.823 +01:00 [INF] Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:27:51.825 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-15 18:27:51.825 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav) in 0.8032ms
2025-12-15 18:27:51.826 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:27:51.826 +01:00 [INF] HTTP DELETE /api/books/test responded 400 in 3.2531 ms
2025-12-15 18:27:51.827 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5031/api/books/test - 400 null application/problem+json; charset=utf-8 5.3476ms
2025-12-15 18:27:55.739 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5031/api/books/3000 - null 0
2025-12-15 18:27:55.741 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:27:55.741 +01:00 [INF] Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:27:55.742 +01:00 [INF] DeleteBook called with 3000
2025-12-15 18:27:55.743 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 18:27:55.744 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav) in 2.0487ms
2025-12-15 18:27:55.745 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:27:55.745 +01:00 [ERR] HTTP DELETE /api/books/3000 responded 500 in 4.4187 ms
System.Collections.Generic.KeyNotFoundException: Book with Id 3000 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.DeleteBookAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 159
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 18:27:55.747 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Book with Id 3000 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.DeleteBookAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 159
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:27:55.749 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: Book with Id 3000 not found
System.Collections.Generic.KeyNotFoundException: Book with Id 3000 not found
   at FredrikMageeEmne7Arbkrav.Services.BooksService.DeleteBookAsync(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 159
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook(Int32 bookId) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 122
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 18:27:55.751 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5031/api/books/3000 - 404 null application/json; charset=utf-8 11.8293ms
2025-12-15 18:30:04.069 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/books - application/json 126
2025-12-15 18:30:04.070 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:30:04.071 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 18:30:04.072 +01:00 [INF] CreateBook called with CreateBookRequest {"Title":"Test Tittel","Author":"Test Forfatter","PublicationYear":2023,"ISBN":"TESTBOK8372","InStock":1,"$type":"CreateBookRequest"}
2025-12-15 18:30:04.074 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 14), @p1='?' (Size = 11), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Author", "ISBN", "InStock", "PublicationYear", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-15 18:30:04.076 +01:00 [INF] Book created successfully with ID 22
2025-12-15 18:30:04.077 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 18:30:04.077 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 5.9318ms
2025-12-15 18:30:04.078 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 18:30:04.078 +01:00 [INF] HTTP POST /api/books responded 201 in 8.3561 ms
2025-12-15 18:30:04.079 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/books - 201 null application/json; charset=utf-8 10.349ms
2025-12-15 20:41:14.267 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/Books/instock - null null
2025-12-15 20:41:14.269 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav)'
2025-12-15 20:41:14.269 +01:00 [INF] Route matched with {action = "GetBooksInStock", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksInStock() on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 20:41:14.271 +01:00 [INF] Getting all books in stock
2025-12-15 20:41:14.273 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."InStock" > 0
2025-12-15 20:41:14.274 +01:00 [INF] We retrieved 15 books from the database successfully
2025-12-15 20:41:14.275 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 20:41:14.276 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav) in 5.2135ms
2025-12-15 20:41:14.276 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav)'
2025-12-15 20:41:14.277 +01:00 [INF] HTTP GET /api/Books/instock responded 200 in 8.1861 ms
2025-12-15 20:41:14.278 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/Books/instock - 200 null application/json; charset=utf-8 10.4698ms
2025-12-15 21:13:53.699 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/Books - null null
2025-12-15 21:13:53.701 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:13:53.701 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 21:13:53.702 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 21:13:53.706 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 21:13:53.707 +01:00 [INF] We retrieved 20 books from the database successfully
2025-12-15 21:13:53.708 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:13:53.708 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 6.0877ms
2025-12-15 21:13:53.709 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:13:53.710 +01:00 [INF] HTTP GET /api/Books responded 200 in 8.9946 ms
2025-12-15 21:13:53.711 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/Books - 200 null application/json; charset=utf-8 11.2279ms
2025-12-15 21:13:57.510 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/Books/instock - null null
2025-12-15 21:13:57.512 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:13:57.512 +01:00 [INF] Route matched with {action = "GetBooksInStock", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksInStock() on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 21:13:57.513 +01:00 [INF] Getting all books in stock
2025-12-15 21:13:57.514 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."InStock" > 0
2025-12-15 21:13:57.515 +01:00 [INF] We retrieved 15 books from the database successfully
2025-12-15 21:13:57.516 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:13:57.517 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav) in 3.4925ms
2025-12-15 21:13:57.517 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooksInStock (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:13:57.518 +01:00 [INF] HTTP GET /api/Books/instock responded 200 in 6.3597 ms
2025-12-15 21:13:57.519 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/Books/instock - 200 null application/json; charset=utf-8 8.9308ms
2025-12-15 21:13:59.908 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/Books - application/json 108
2025-12-15 21:13:59.910 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:13:59.910 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 21:13:59.912 +01:00 [INF] CreateBook called with CreateBookRequest {"Title":"string","Author":"string","PublicationYear":2025,"ISBN":"string","InStock":0,"$type":"CreateBookRequest"}
2025-12-15 21:13:59.915 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Author", "ISBN", "InStock", "PublicationYear", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-15 21:13:59.919 +01:00 [INF] Book created successfully with ID 23
2025-12-15 21:13:59.919 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse'.
2025-12-15 21:13:59.920 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 8.8917ms
2025-12-15 21:13:59.921 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:13:59.922 +01:00 [INF] HTTP POST /api/Books responded 201 in 11.7674 ms
2025-12-15 21:13:59.922 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/Books - 201 null application/json; charset=utf-8 14.0964ms
2025-12-15 21:14:06.917 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/index.html - null null
2025-12-15 21:14:06.918 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/index.html - 200 null text/html;charset=utf-8 1.6556ms
2025-12-15 21:14:06.945 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/swagger-ui.css - null null
2025-12-15 21:14:06.947 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-15 21:14:06.948 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/swagger-ui.css - 499 152034 text/css 3.7745ms
2025-12-15 21:14:07.044 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/favicon-16x16.png - null null
2025-12-15 21:14:07.045 +01:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-12-15 21:14:07.046 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/favicon-16x16.png - 200 665 image/png 2.1803ms
2025-12-15 21:14:07.055 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/v1/swagger.json - null null
2025-12-15 21:14:07.059 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 3.942ms
2025-12-15 21:14:19.792 +01:00 [INF] Application is shutting down...
2025-12-15 21:14:24.419 +01:00 [INF] Now listening on: http://localhost:5031
2025-12-15 21:14:24.437 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 21:14:24.438 +01:00 [INF] Hosting environment: Development
2025-12-15 21:14:24.438 +01:00 [INF] Content root path: C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav
2025-12-15 21:14:26.959 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/index.html - null null
2025-12-15 21:14:27.027 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/index.html - 200 null text/html;charset=utf-8 68.4571ms
2025-12-15 21:14:27.211 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/swagger/v1/swagger.json - null null
2025-12-15 21:14:27.270 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.1555ms
2025-12-15 21:14:32.712 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5031/api/Books - application/json 108
2025-12-15 21:14:32.716 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:14:32.729 +01:00 [INF] Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(FredrikMageeEmne7Arbkrav.DTOs.Requests.CreateBookRequest) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 21:14:32.814 +01:00 [INF] CreateBook called with CreateBookRequest {"Title":"string","Author":"string","PublicationYear":2030,"ISBN":"string","InStock":0,"$type":"CreateBookRequest"}
2025-12-15 21:14:33.186 +01:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Author", "ISBN", "InStock", "PublicationYear", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-15 21:14:33.196 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'FredrikMageeEmne7Arbkrav.Data.BookDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-15 21:14:33.205 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav) in 474.0957ms
2025-12-15 21:14:33.206 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:14:33.208 +01:00 [ERR] HTTP POST /api/Books responded 500 in 491.4545 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FredrikMageeEmne7Arbkrav.Repositories.BookRepository.CreateBookAsync(Book book) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Repositories\BookRepository.cs:line 76
   at FredrikMageeEmne7Arbkrav.Services.BooksService.CreateBookAsync(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 90
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-15 21:14:33.225 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FredrikMageeEmne7Arbkrav.Repositories.BookRepository.CreateBookAsync(Book book) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Repositories\BookRepository.cs:line 76
   at FredrikMageeEmne7Arbkrav.Services.BooksService.CreateBookAsync(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 90
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 21:14:33.233 +01:00 [ERR] GlobalExceptionHandler: Exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.ISBN'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FredrikMageeEmne7Arbkrav.Repositories.BookRepository.CreateBookAsync(Book book) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Repositories\BookRepository.cs:line 76
   at FredrikMageeEmne7Arbkrav.Services.BooksService.CreateBookAsync(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Services\BooksService.cs:line 90
   at FredrikMageeEmne7Arbkrav.Controllers.BooksController.CreateBook(CreateBookRequest request) in C:\Users\fredr\Skole\Skoleprosjekt\FredrikMageeEmne7Arbkrav\FredrikMageeEmne7Arbkrav\Controllers\BooksController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-15 21:14:33.250 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5031/api/Books - 409 null application/json; charset=utf-8 537.5434ms
2025-12-15 21:14:41.901 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5031/api/Books - null null
2025-12-15 21:14:41.903 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:14:41.907 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32]) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 21:14:41.911 +01:00 [INF] Getting all books. Payload: {"title":null,"author":null,"publicationYear":null,"isbn":null,"inStock":null}
2025-12-15 21:14:42.037 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
2025-12-15 21:14:42.041 +01:00 [INF] Retrieved 21 books from the database successfully
2025-12-15 21:14:42.045 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FredrikMageeEmne7Arbkrav.DTOs.Request.Response.BookResponse, FredrikMageeEmne7Arbkrav, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:14:42.051 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav) in 142.737ms
2025-12-15 21:14:42.052 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.GetBooks (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:14:42.052 +01:00 [INF] HTTP GET /api/Books responded 200 in 149.5995 ms
2025-12-15 21:14:42.054 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5031/api/Books - 200 null application/json; charset=utf-8 152.3485ms
2025-12-15 21:15:02.753 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5031/api/Books/23 - null null
2025-12-15 21:15:02.755 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:15:02.758 +01:00 [INF] Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 21:15:02.762 +01:00 [INF] DeleteBook called with 23
2025-12-15 21:15:02.820 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 21:15:02.828 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0
RETURNING 1;
2025-12-15 21:15:02.837 +01:00 [INF] Successfully deleted book with Id: 23
2025-12-15 21:15:02.839 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 21:15:02.839 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav) in 80.6786ms
2025-12-15 21:15:02.840 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:15:02.840 +01:00 [INF] HTTP DELETE /api/Books/23 responded 204 in 85.4747 ms
2025-12-15 21:15:02.841 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5031/api/Books/23 - 204 null null 87.9002ms
2025-12-15 21:15:05.693 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5031/api/Books/22 - null null
2025-12-15 21:15:05.694 +01:00 [INF] Executing endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:15:05.695 +01:00 [INF] Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller FredrikMageeEmne7Arbkrav.Controllers.BooksController (FredrikMageeEmne7Arbkrav).
2025-12-15 21:15:05.696 +01:00 [INF] DeleteBook called with 22
2025-12-15 21:15:05.699 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."ISBN", "b"."InStock", "b"."PublicationYear", "b"."Title"
FROM "Books" AS "b"
WHERE "b"."Id" = @__p_0
LIMIT 1
2025-12-15 21:15:05.701 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0
RETURNING 1;
2025-12-15 21:15:05.703 +01:00 [INF] Successfully deleted book with Id: 22
2025-12-15 21:15:05.704 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 21:15:05.704 +01:00 [INF] Executed action FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav) in 7.9824ms
2025-12-15 21:15:05.705 +01:00 [INF] Executed endpoint 'FredrikMageeEmne7Arbkrav.Controllers.BooksController.DeleteBook (FredrikMageeEmne7Arbkrav)'
2025-12-15 21:15:05.705 +01:00 [INF] HTTP DELETE /api/Books/22 responded 204 in 10.7003 ms
2025-12-15 21:15:05.706 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5031/api/Books/22 - 204 null null 13.1701ms
2025-12-15 22:23:40.934 +01:00 [INF] Application is shutting down...
